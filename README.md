# CellML-and-MathML-Web-Editor
Please cite this work as 

http://dx.doi.org/10.1016/j.future.2009.09.002

Amorim, Ronan Mendonca ; Costa, Caroline Mendonça ; Lino de Oliveira, Bernardo ; Barbosa, Ciro de Barros ; Sundnes, Joakim ; Weber dos Santos, Rodrigo . Approaching cardiac modeling challenges to computer science with CellML-based web tools. Future Generation Computer Systems, p. 1814, 2009.



# The CellML editor
To describe cellular models we use the CellML language, a XML-based language used to describe cell components and models. We previously mentioned that the complexity of biological models is rapidly growing. As a result, the creation and edition of modern biological models can be time-consuming and error-prone tasks. To alleviate theses tasks we have developed an editor that allows one to describe CellML models in an user-friendly interface through a Web application.

The editor interface comprises four different tabs. The first tab presents the model components and units, i.e. the basic CellML structure, in a flat structure. The tab contains two main directories, Units and Components. The Units directory describes the types of variable in the model whereas the Components directory contains the components of the models, variables, and mathematical equations. The second tab, named Group, is used to describe the hierarchical organization of the model components and is displayed as a hierarchical tree structure, like a directory tree. The third tab enables one to import components from other existing models. It allows one to import previously described mathematical equations, variables, or entire models and components, increasing the re-usability of models and speeding up the process of creation of a new model. In the fourth tab it is possible to download the XML file generated by the edition process and to save the project and run the new model using the AGOS API on the Web. Fig. 6 shows the edition of the ten Tusscher et al. model .



# Editor implementation
The Editor was implemented with PHP and JavaScript programming languages. The chosen languages support all the necessary libraries and API’s to manipulate XML, databases and the techniques to develop dynamic web interfaces. The editor stores and manipulates data using a simple database. The database provides an easy and robust way of recovering the last modifications performed in the editor, even in the event of web browser termination or internet connection problem. The structure of directories and the translation from/to XML are implemented with the Document Object Model (DOM), an application programming interface (API) for HTML and XML documents. It defines the logical structure of the documents and the way a document is accessed and manipulated, i.e. the way documents are built, their structure is navigated, and elements are added, modified, or deleted. The dynamic interfaces of the editor were built on top of the Asynchronous JavaScript And XML(AJAX). Ajax supports the creation of interactive Web applications and was used for essential functions. For instance when a variable is selected, its attributes must be automatically available for editing, such as the initial value, name, unit, among others.

# Editing MathML
An important task of the editor is the one related to the editing of the mathematical equations of the model. This part of the application reads in MathML tags and prints the underlying equations as an user-friendly mathematical language and reads the equations that are being typed in the Web form and translates them to MathML. This process was implemented as a compiler. First we have designed an user-friendly mathematical language, i.e. a set of numbers, letters, mathematical signs and their relation to each other. It is a simple grammar with few reserved words that defines the right precedence of operators. After these definitions, we implemented a lexical analyzer that reads the input characters and produced as output a sequence of tokens that the parser uses for syntax analysis. The syntax analyzer recognizes whether a equation belongs to the grammar. In case the equation is not recognized the analyzer prints messages that helps the user in correcting the expression. If the expression is correct, the analyzer builds a parse tree that has exactly one leaf for each token of the input and one internal node for each grammar rule reduced during the parse. When the tree is completed, it is stored in the editor’s database and the translation process is concluded.


INSTALLATION INSTRUCTIONS ===========================================================

	To run sample application you need to have:
	- PHP
	- MySQL
	
	To install application, just make sure that your MySQL running and load index.php 
	after entering suitable (for you) information in config.php
=====================================================================================

